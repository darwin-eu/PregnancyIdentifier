% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/runESD.R
\name{runEsd}
\alias{runEsd}
\title{runEsd}
\usage{
runEsd(
  cdm,
  outputDir,
  startDate = as.Date("1900-01-01"),
  endDate = Sys.Date(),
  logger
)
}
\arguments{
\item{cdm}{A CDM reference, must include all necessary OMOP tables and concept sets for pregnancy inference algorithms.}

\item{outputDir}{Character. Path to directory where input and output RDS files reside.}

\item{startDate}{Earliest episode date to include (as.Date). Default: \code{as.Date("1900-01-01")}.}

\item{endDate}{Latest episode date to include (as.Date). Default: \code{Sys.Date()}.}

\item{logger}{A \code{log4r} logger object for info/debug messages.}
}
\value{
Invisibly returns \code{NULL}. Main result is written as an RDS file (\code{identified_pregnancy_episodes.rds}) to \code{outputDir}.
        The output contains one row per inferred pregnancy episode, with all metadata and gestational timing fields required for downstream analysis.
}
\description{
Runs the Episode Start Date (ESD) algorithm to infer pregnancy episode start dates for merged HIP/PPS episodes.
}
\details{
This function performs the following major steps:
\enumerate{
  \item Loads previously merged HIPPS episode table from \code{outputDir}.
  \item Extracts gestational timing concept evidence (e.g. gestational week, trimester concepts) for each episode within the specified date range.
  \item Infers episode start and start precision using all available gestational timing evidence, with logging.
  \item Merges inferred start dates, timing evidence, and metadata back onto the merged episodes table and computes final start/end/outcome fields.
  \item Filters episodes to retain only those overlapping the requested \code{startDate}--\code{endDate} study period, including episodes with missing inferred dates.
  \item Writes the resulting cohort of identified pregnancy episodes to an RDS file (\code{identified_pregnancy_episodes.rds}) in \code{outputDir}.
}
}
